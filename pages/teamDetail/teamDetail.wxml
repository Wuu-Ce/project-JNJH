<cu-custom bgColor="bg-white" isBack="{{true}}">
  <view slot="content" class="text-black text-bold">队伍详情</view>
  <view class="text-black" slot="backText">返回</view>
</cu-custom>

<view bindtap="showMoreMenu" class="catchView" wx:if="{{moreMenuShow}}"></view>

<!-- 名称 -->
<view class="padding-lr-sm padding-top-sm">
  <view class="padding radius cu-item shadow bg-white flex justify-between" style="border-radius: 15rpx;">
    <view class="flex justify-start align-center">
      <image class="cu-avatar round" src="{{team.icon}}"></image>
      <view class="margin-left-sm">
        <view class="text-lg">{{team.teamName}}</view>
      </view>
    </view>
    <view class="padding-sm text-lg" bindtap="showMoreMenu">
      <text class="cuIcon-moreandroid"></text>
    </view>
    <!-- 收藏、举报 -->
    <view wx:if="{{moreMenuShow}}" class="flex justify-around align-center bg-black text-white radius moreMenu">
      <view class="flex align-center padding-lr-sm padding-tb-sm" catchtap="onClickCollect">
        <text class="cuIcon-{{team.collected?'favorfill text-yellow':'favor'}} margin-right-xxs"></text>
        <text class="">收藏</text>
      </view>
      <view class="flex align-center padding-lr-sm padding-tb-xs" catchtap="reportTeam">
        <text class="cuIcon-warn margin-right-xxs"></text>
        <text class="">举报</text>
      </view>
    </view>
  </view>
</view>
<!-- 队伍成员 -->
<view class="padding-lr-sm padding-top-sm">
  <view class="radius cu-item shadow bg-white" style="border-radius: 15rpx;">
    <view class="padding-lr-lg  padding-top">
      <view class="flex justify-between">
        <view class="text-lg text-bold">队伍成员</view>
        <view class="cuIcon-right line-blue text-lg"></view>
      </view>
    </view>
    <scroll-view scroll-x="true"  style="height: 150rpx; white-space: nowrap;" enable-flex="true" class="flex justify-start padding-lr-lg margin-top-sm">
      <view class="padding-sm flex flex-wrap justify-center" wx:for="{{team.members}}" wx:key="index">
        <image class="cu-avatar round" src="{{team.icon}}"></image>
        <view wx:if="{{index==0}}" class="leader-tag bg-blue radius text-xs padding-lr-xs">队长</view>
        <view class="padding-top-xs hidden-text">{{item.name}}</view>
      </view>
    </scroll-view>
  </view>
</view>
<!-- 基本信息 -->
<view class="padding-lr-sm padding-top-sm">
  <view class="radius cu-item shadow bg-white" style="border-radius: 15rpx;">
    <view class="padding-lr-lg  padding-tb-sm  bottomLine">
      <view class="text-lg text-bold text-black">基本信息</view>
    </view>
    <view class="padding-lg">
      <viwe class="flex justify-start">
        <view style="min-width: 150rpx;">队长：</view>
        <view>test</view>
      </viwe>
      <view class="margin-top flex justify-start">
        <view style="min-width:150rpx;">类型：</view>
        <scroll-view scroll-x="true" style="height: 50rpx; white-space: nowrap;" enable-flex="true" class="flex justify-start">
          <view class=" flex justify-start">
            <view wx:for="{{team.classification}}" wx:key="index">{{index>0?'-':''}}
              <view class="cu-tag line-blue round text-blue margin-right-xs">{{item}}</view>
            </view>
          </view>
        </scroll-view>
      </view>
      <view class="margin-top-sm" style="margin-left: 150rpx;">{{team.customClass}}</view>
      <view class="margin-top flex justify-start">
        <view style="min-width:150rpx;">创建日期：</view>
        <view>{{team.createTime}}</view>
      </view>
      <view class="margin-top flex justify-start">
        <view style="min-width:150rpx;">队伍介绍：</view>
        <view class="{{hideTeamAbout?'text-content':''}}" bindtap="hideTeamAbout">{{team.teamAbout}}</view>
      </view>
      <view class="margin-top flex justify-start">
        <view style="min-width:150rpx;">队伍目标：</view>
        <view class="{{hideTeamGoal?'text-content':''}}" bindtap="hideTeamGoal">{{team.goal}}</view>
      </view>

      <view class="margin-top flex justify-start">
        <view style="min-width:150rpx;">队伍规约：</view>
        <view class="{{hideTeamProtocol?'text-content':''}}" bindtap="hideTeamProtocol">{{team.teamProtocol}}</view>
      </view>
    </view>
  </view>
</view>
<!-- 招募需求-->
<view class="padding-lr-sm padding-top-sm">
  <view class="radius cu-item shadow bg-white" style="border-radius: 15rpx;">
    <view class="padding-lr-lg  padding-tb-sm bottomLine">
      <view class="text-lg text-bold">招募说明</view>
    </view>
    <view class="padding-lg" style="min-height: 200rpx;">
      <view wx:if="{{team.neccessary.type=='fast'}}" class="text-long">{{team.neccessary.detail}}</view>
      <scroll-view wx:else scroll-y style="height: {{team.neccessary.num>5?'400': team.neccessary.num*80}}px;">
        <view wx:for="{{team.neccessary.detail}}" wx:for-item="detail" wx:key="index" class=" padding-sm borderAll {{index>0?'margin-top-sm':''}}">
          <view >领域：{{detail.area}}</view>
          <view class="padding-top-sm">要求：{{detail.need}}</view>
        </view>
      </scroll-view>
      <view wx:if="{{team.neccessary.num>5}}" class="text-center cuIcon-unfold padding-top-xs"></view>
    </view>
  </view>
</view>

<!-- 按钮 -->
<view class="padding-top-sm">
  <view class="bg-white padding-lg flex jsutify-center">
    <button class="cu-btn mainTone-bgColor">申请加入</button>
  </view>
</view>

<report tid="{{team.tid}}" teamName="{{team.teamName}}" show="{{reportModalShow}}"></report>